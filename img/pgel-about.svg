<svg height="285.41577" viewBox="0 0 366.9639 285.41576" width="366.9639" xmlns="http://www.w3.org/2000/svg"><g font-family="Courier" font-size="8.5"><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 18.1406137769 34.0761939738)"><tspan x="0" y="0">(</tspan></text><text fill="#859900" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 24.9406136069 34.0761939738)"><tspan x="0 5.1 10.2 15.3 20.4" y="0">defun</tspan></text><text fill="#268bd2" transform="matrix(1.3333333 0 0 1.3333333 65.7406125869 34.0761939738)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51" y="0">pg−for−each</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 147.3406105469 34.0761939738)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 154.1406103769 34.0761939738)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3" y="0">con select−form callback</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 317.3406062969 34.0761939738)"><tspan x="0" y="0">)</tspan></text><text fill="#2aa198" transform="matrix(1.3333333 0 0 1.3333333 31.7406134369 46.0321936749)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3 173.39999 178.5 183.60001 188.7 193.8 198.89999 204 209.10001 214.2 219.3 224.39999 229.5 234.60001 239.7 244.8 249.89999 255 260.10001 265.20001 270.29999 275.39999 280.5 285.60001 290.70001 295.79999 300.89999 306 311.10001 316.20001 321.29999 326.39999 331.5 336.60001" y="0">"Create a cursor for SELECT−FORM and call CALLBACK for each result.</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3 173.39999 178.5 183.60001 188.7 193.8 198.89999 204 209.10001 214.2 219.3 224.39999 229.5 234.60001 239.7 244.8 249.89999 255 260.10001 265.20001 270.29999 275.39999 280.5 285.60001 290.70001 295.79999 300.89999 306 311.10001 316.20001 321.29999 326.39999" y="8.96758">Uses the PostgreSQL database connection CON. SELECT−FORM must be an</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3 173.39999 178.5 183.60001 188.7 193.8 198.89999 204 209.10001 214.2 219.3 224.39999 229.5 234.60001 239.7 244.8 249.89999 255 260.10001 265.20001 270.29999 275.39999 280.5 285.60001 290.70001 295.79999 300.89999 306 311.10001" y="17.93516">SQL SELECT statement. The cursor is created using an SQL DECLARE</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3 173.39999 178.5 183.60001 188.7 193.8 198.89999 204 209.10001 214.2 219.3 224.39999 229.5 234.60001 239.7 244.8 249.89999 255 260.10001 265.20001 270.29999 275.39999 280.5 285.60001 290.70001 295.79999 300.89999 306 311.10001 316.20001 321.29999 326.39999 331.5 336.60001 341.70001" y="26.90274">CURSOR command, then results are fetched successively until no results</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3" y="35.870319">are left. The cursor is then closed.</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3 173.39999 178.5 183.60001 188.7 193.8 198.89999 204 209.10001 214.2 219.3 224.39999 229.5 234.60001 239.7 244.8 249.89999 255 260.10001 265.20001 270.29999 275.39999 280.5 285.60001" y="53.805519">The work is performed within a transaction. The work can be</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1 112.2 117.3 122.4 127.5 132.60001 137.7 142.8 147.89999 153 158.10001 163.2 168.3 173.39999 178.5 183.60001 188.7 193.8 198.89999 204 209.10001 214.2 219.3 224.39999 229.5 234.60001 239.7 244.8 249.89999 255 260.10001 265.20001 270.29999 275.39999 280.5 285.60001 290.70001 295.79999 300.89999 306 311.10001" y="62.773102">interrupted before all tuples have been handled by THROWing to a</tspan><tspan x="-10.2 -5.1 0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002 102 107.1" y="71.740677">tag called pg−finished."</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 31.7406134369 153.6428576513)"><tspan x="0" y="0">(</tspan></text><text fill="#859900" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 38.5406132669 153.6428576513)"><tspan x="0 5.1 10.2" y="0">let</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 65.7406125869 153.6428576513)"><tspan x="0 5.1" y="0">((</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 79.3406122469 153.6428576513)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6" y="0">cursor </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 126.9406110569 153.6428576513)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 133.7406108869 153.6428576513)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998" y="0">symbol−name </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 215.3406088469 153.6428576513)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 222.1406086769 153.6428576513)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6" y="0">gensym </tspan></text><text fill="#2aa198" transform="matrix(1.3333333 0 0 1.3333333 269.7406074869 153.6428576513)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998" y="0">"pgelcursor"</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 351.3406054469 153.6428576513)"><tspan x="0 5.1 10.2 15.3" y="0">))))</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 45.3406130969 165.6001906857)"><tspan x="0" y="0">(</tspan></text><text fill="#859900" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 52.1406129269 165.6001906857)"><tspan x="0 5.1 10.2 15.3 20.4" y="0">catch</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 92.9406119069 165.6001906857)"><tspan x="0" y="0">’</tspan></text><text fill="#268bd2" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 99.7406117369 165.6001906857)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51" y="0">pg−finished</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 58.9406127569 177.5561903868)"><tspan x="0" y="0">(</tspan></text><text fill="#859900" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 65.7406125869 177.5561903868)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003" y="0">with−pg−transaction</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 201.7406091869 177.5561903868)" xml:space="preserve"><tspan x="0 5.1 10.2" y="0">con</tspan><tspan x="-137.7" y="8.96758"></tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 79.3406122469 189.5135234212)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 86.1406120769 189.5135234212)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998" y="0">pg−exec con </tspan></text><text fill="#2aa198" transform="matrix(1.3333333 0 0 1.3333333 167.7406100369 189.5135234212)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002" y="0">"DECLARE "</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 242.5406081669 189.5135234212)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6" y="0">cursor </tspan></text><text fill="#2aa198" transform="matrix(1.3333333 0 0 1.3333333 290.1406069769 189.5135234212)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003" y="0">" CURSOR FOR "</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 392.1406044269 189.5135234212)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51" y="0">select−form</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 466.9406025569 189.5135234212)"><tspan x="0" y="0">)</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 79.3406122469 201.4708564556)"><tspan x="0" y="0">(</tspan></text><text fill="#859900" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 86.1406120769 201.4708564556)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003" y="0">unwind−protect</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 106.5406115669 213.4268561567)"><tspan x="0" y="0">(</tspan></text><text fill="#859900" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 113.3406113969 213.4268561567)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6" y="0">cl−loop</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 167.7406100369 213.4268561567)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002" y="0">for res = </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 235.7406083369 213.4268561567)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 242.5406081669 213.4268561567)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002" y="0">pg−result </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 310.5406064669 213.4268561567)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 317.3406062969 213.4268561567)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998" y="0">pg−exec con </tspan></text><text fill="#2aa198" transform="matrix(1.3333333 0 0 1.3333333 398.9406042569 213.4268561567)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002" y="0">"FETCH 1 FROM "</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 507.7406015369 213.4268561567)"><tspan x="0 5.1 10.2 15.3 20.4 25.5" y="0">cursor</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 548.5406005169 213.4268561567)"><tspan x="0" y="0">)</tspan></text><text fill="#657b83" font-weight="bold" transform="matrix(1.3333333 0 0 1.3333333 562.1406001769 213.4268561567)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6" y="0">:tuples</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 609.7405989869 213.4268561567)"><tspan x="0" y="0">)</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 147.3406105469 225.3841891911)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5" y="0">until </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 188.1406095269 225.3841891911)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 194.9406093569 225.3841891911)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5" y="0">zerop </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 235.7406083369 225.3841891911)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 242.5406081669 225.3841891911)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002" y="0">length res</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 310.5406064669 225.3841891911)"><tspan x="0 5.1" y="0">))</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 147.3406105469 237.3401888922)" xml:space="preserve"><tspan x="0 5.1 10.2" y="0">do </tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 167.7406100369 237.3401888922)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 174.5406098669 237.3401888922)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998 61.200001 66.300003 71.400002 76.5 81.599998 86.699997 91.800003 96.900002" y="0">funcall callback res</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 310.5406064669 237.3401888922)"><tspan x="0 5.1" y="0">))</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 92.9406119069 249.2975219266)"><tspan x="0" y="0">(</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 99.7406117369 249.2975219266)" xml:space="preserve"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001 40.799999 45.900002 51 56.099998" y="0">pg−exec con </tspan></text><text fill="#2aa198" transform="matrix(1.3333333 0 0 1.3333333 181.3406096969 249.2975219266)"><tspan x="0 5.1 10.2 15.3 20.4 25.5 30.6 35.700001" y="0">"CLOSE "</tspan></text><text transform="matrix(1.3333333 0 0 1.3333333 242.5406081669 249.2975219266)"><tspan x="0 5.1 10.2 15.3 20.4 25.5" y="0">cursor</tspan></text><text fill="#93a1a1" transform="matrix(1.3333333 0 0 1.3333333 283.3406071469 249.2975219266)"><tspan x="0 5.1 10.2 15.3 20.4 25.5" y="0">))))))</tspan></text></g></svg>